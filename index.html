<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Nami ‚ù§Ô∏è</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  position: relative;
  overflow: hidden;
}

/* Sunrise effect */
body::before {
  content: "";
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: radial-gradient(circle at bottom, #ffe4c4, transparent 70%);
  opacity: 0.3;
  animation: sunrise 10s infinite alternate;
  z-index: -1;
}

@keyframes sunrise {
  0% { transform: translateY(20px); opacity: 0.2; }
  100% { transform: translateY(0px); opacity: 0.35; }
}

    .card {
      background: #fff;
      width: 90%;
      max-width: 420px;
      padding: 2.5rem 2rem;
      border-radius: 24px;
      text-align: center;
      box-shadow: 0 20px 50px rgba(0,0,0,0.15);
    }

    h1, h2 {
      color: #ff4d6d;
    }

    p {
      color: #555;
    }

    .heart-container {
      width: 150px;
      height: 150px;
      margin: 1.5rem auto;
      position: relative;
      cursor: pointer;
    }

    .heart {
      font-size: 9rem;
      line-height: 150px;
      color: #ddd;
      transition: transform 0.15s;
    }

    .heart-container:active .heart {
      transform: scale(1.15);
    }

    .fill {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0%;
      overflow: hidden;
      text-align: center;
      transition: height 0.3s ease;
    }

    .fill span {
      font-size: 9rem;
      line-height: 150px;
      color: #ff4d6d;
    }

    .percent {
      font-weight: 500;
      color: #ff4d6d;
    }

    .screen {
      display: none;
    }

    .screen.active {
      display: block;
    }

    .pulse {
      font-size: 3rem;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .choice-btn {
      margin-top: 1rem;
      padding: 12px 24px;
      border: none;
      border-radius: 30px;
      background: #ff4d6d;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
    }

    .choice-btn:hover {
      background: #ff1f4a;
    }
  </style>
</head>
<body>

  <div class="card">

    <!-- Screen 1 -->
    <div class="screen active" id="screen1">
      <h1>Hi Nami ‚ù§Ô∏è</h1>
      <p>Tap the heart until it‚Äôs full üíï</p>

      <div class="heart-container" id="heart">
        <div class="heart">ü§ç</div>
        <div class="fill" id="fill">
          <span>‚ù§Ô∏è</span>
        </div>
      </div>

      <p class="percent"><span id="count">0</span>%</p>
    </div>

    <!-- Screen 2 -->
    <div class="screen" id="screen2">
      <div class="pulse">‚ù§Ô∏è</div>
      <h2>It‚Äôs a date!</h2>
      <p>
        Nami, will you be my Valentine on<br>
        <strong>February 14</strong>? üåπ
      </p>

      <button class="choice-btn" id="nextBtn">
        One more thing‚Ä¶ ‚ò∫Ô∏è
      </button>
    </div>

    <!-- Screen 3 -->
<div class="screen" id="screen3">
  <h2>It‚Äôs official üíò</h2>
  <p>
    Breakfast date with you sounds perfect ‚ò∫Ô∏è<br><br>

    üìç <strong>Burrow Cafe, Antipolo</strong><br>
    ‚è∞ <strong>8:00 AM</strong><br><br>

    Coffee, good food,<br>
    and my favorite person ‚ù§Ô∏è<br><br>

    <em>I‚Äôll pick you up, Nami ‚ù§Ô∏è See you there at 8 AM!</em>
  </p>

  <!-- Google Maps button -->
  <a href="https://www.google.com/maps/search/?api=1&query=Burrow+Cafe+Antipolo" target="_blank">
    <button class="choice-btn">View on Map üìç</button>
  </a>

  <div class="pulse">‚òÄÔ∏è‚òïü•ê</div>
</div>

  </div>

  <!-- Romantic music -->
 <audio id="music" loop>
  <source src="romantic-bg.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
  let progress = 0;
  let taps = 0;
  let fallInterval = null;
  let idleTimeout = null;

  const heart = document.getElementById("heart");
  const fill = document.getElementById("fill");
  const count = document.getElementById("count");

  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  const music = document.getElementById("music");
  const nextBtn = document.getElementById("nextBtn");
  const hintText = document.querySelector("#screen1 p");

  const messages = [
    "Keep going üíï",
    "Don‚Äôt stop now üòè",
    "Hearts need attention ‚ù§Ô∏è",
    "Almost‚Ä¶ maybe üòâ",
    "Worth it, promise üíñ"
  ];

  function vibrate(pattern = 20) {
    if (navigator.vibrate) navigator.vibrate(pattern);
  }

  function startFalling() {
    if (fallInterval || progress <= 0) return;

    hintText.textContent = "Hey‚Ä¶ don‚Äôt stop ü•∫";
    vibrate(15);

    fallInterval = setInterval(() => {
      if (progress <= 0) {
        clearInterval(fallInterval);
        fallInterval = null;
        hintText.textContent = "Okay‚Ä¶ that hurt üò≠";
        vibrate([20, 50, 20]);
        return;
      }

      progress = Math.max(progress - 5, 0);
      fill.style.height = progress + "%";
      count.textContent = progress;
    }, 100);
  }

  function stopFalling() {
    if (fallInterval) {
      clearInterval(fallInterval);
      fallInterval = null;
    }
  }

  function resetIdleTimer() {
    if (idleTimeout) clearTimeout(idleTimeout);
    idleTimeout = setTimeout(startFalling, 1500);
  }

  heart.addEventListener("click", () => {
    if (progress >= 100) return;

    stopFalling();
    resetIdleTimer();

    let increment = 3;

    // Tease chance
    if (Math.random() < 0.15) {
      increment = 0;
      hintText.textContent = "Hmm‚Ä¶ again üòå";
      vibrate(10);
    } else {
      hintText.textContent = messages[Math.floor(Math.random() * messages.length)];
    }

    progress = Math.min(progress + increment, 100);
    fill.style.height = progress + "%";
    count.textContent = progress;

    vibrate(15);

    if ([25, 50, 75].includes(progress)) {
      vibrate([30, 40, 30]);
    }

    if (progress >= 100) {
      stopFalling();
      vibrate([50, 100, 50]);

      setTimeout(() => {
        screen1.classList.remove("active");
        screen2.classList.add("active");
        music.play();
      }, 500);
    }
  });

  nextBtn.addEventListener("click", () => {
    vibrate(40);
    screen2.classList.remove("active");
    screen3.classList.add("active");
  });

  resetIdleTimer();
</script>
</body>
</html>
